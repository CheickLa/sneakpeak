<script setup>
import { ref, onMounted, onUnmounted } from 'vue';

const isNavbarOpen = ref(false);
const isMobile = ref(window.innerWidth <= 768);

const toggleNavbar = () => {
  isNavbarOpen.value = !isNavbarOpen.value;
};

const handleResize = () => {
  isMobile.value = window.innerWidth <= 768;
};

onMounted(() => {
  window.addEventListener('resize', handleResize);
});

onUnmounted(() => {
  window.removeEventListener('resize', handleResize);
});
</script>
  
<template>
    <section class="flex h-screen">
        <!-- sidebar -->
        <nav :class="{'flex': isNavbarOpen, 'hidden': !isNavbarOpen, 'fixed left-0 top-0 h-screen': isNavbarOpen && isMobile}" class="md:flex md:w-[15.625rem] p-5 flex-col items-center gap-[6.25rem] flex-shrink-0 bg-black bg-opacity-95">
            <!-- Logo ou fermeture de la sidebar-->
            <div class="mt-8">
                <svg v-if="!isMobile" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10 0C15.5228 0 20 4.47715 20 10V0H30C35.5228 0 40 4.47715 40 10C40 15.5228 35.5228 20 30 20C35.5228 20 40 24.4772 40 30C40 32.7423 38.8961 35.2268 37.1085 37.0334L37.0711 37.0711L37.0379 37.1041C35.2309 38.8943 32.7446 40 30 40C27.2741 40 24.8029 38.9093 22.999 37.1405C22.9756 37.1175 22.9522 37.0943 22.9289 37.0711C22.907 37.0492 22.8852 37.0272 22.8635 37.0051C21.0924 35.2009 20 32.728 20 30C20 35.5228 15.5228 40 10 40C4.47715 40 0 35.5228 0 30V20H10C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0ZM18 10C18 14.4183 14.4183 18 10 18V2C14.4183 2 18 5.58172 18 10ZM38 30C38 25.5817 34.4183 22 30 22C25.5817 22 22 25.5817 22 30H38ZM2 22V30C2 34.4183 5.58172 38 10 38C14.4183 38 18 34.4183 18 30V22H2ZM22 18V2H30C34.4183 2 38 5.58172 38 10C38 14.4183 34.4183 18 30 18H22Z" fill="#EFEFEF"/>
                </svg>
                <svg v-else xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 14 14" fill="none" @click="toggleNavbar">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7 1.16667C3.77834 1.16667 1.16667 3.77834 1.16667 7C1.16667 10.2217 3.77834 12.8333 7 12.8333C10.2217 12.8333 12.8333 10.2217 12.8333 7C12.8333 3.77834 10.2217 1.16667 7 1.16667ZM0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7ZM9.74581 4.25419C9.97362 4.48199 9.97362 4.85134 9.74581 5.07915L7.82496 7L9.74581 8.92085C9.97362 9.14866 9.97362 9.51801 9.74581 9.74581C9.51801 9.97362 9.14866 9.97362 8.92085 9.74581L7 7.82496L5.07915 9.74581C4.85134 9.97362 4.48199 9.97362 4.25419 9.74581C4.02638 9.51801 4.02638 9.14866 4.25419 8.92085L6.17504 7L4.25419 5.07915C4.02638 4.85134 4.02638 4.48199 4.25419 4.25419C4.48199 4.02638 4.85134 4.02638 5.07915 4.25419L7 6.17504L8.92085 4.25419C9.14866 4.02638 9.51801 4.02638 9.74581 4.25419Z" fill="white"/>
                </svg>
            </div>
            
            <!-- Items -->
            <div class="w-full font-['Be Vietnam Pro'] flex-col text-zinc-100 px-6">
                <ul>
                    <li>
                        <a href="" class="flex gap-4 p-4 hover:bg-sky-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <path d="M9 21.5V15.5C9 14.9696 9.21071 14.4609 9.58579 14.0858C9.96086 13.7107 10.4696 13.5 11 13.5H13C13.5304 13.5 14.0391 13.7107 14.4142 14.0858C14.7893 14.4609 15 14.9696 15 15.5V21.5M5 12.5H3L12 3.5L21 12.5H19V19.5C19 20.0304 18.7893 20.5391 18.4142 20.9142C18.0391 21.2893 17.5304 21.5 17 21.5H7C6.46957 21.5 5.96086 21.2893 5.58579 20.9142C5.21071 20.5391 5 20.0304 5 19.5V12.5Z" stroke="#EFEFEF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Accueil
                        </a>   
                    </li>
                    <li>
                        <a href="" class="flex gap-4 p-4 hover:bg-sky-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">       
                                <path d="M12.4758 24.5C11.6063 24.5 10.7369 24.1691 10.075 23.5072L0.329096 13.7718C0.116999 13.5597 -0.00183105 13.2724 -0.00183105 12.9731V1.62817C-0.00183105 1.00542 0.50359 0.5 1.12634 0.5H12.4712C12.7706 0.5 13.0579 0.618836 13.2685 0.830933L23.0144 10.5768C24.3306 11.8991 24.3306 14.0486 23.0159 15.3693L23.0144 15.3723L14.8795 23.5072C14.2162 24.1676 13.3452 24.5 12.4758 24.5ZM2.25301 12.5053L11.668 21.9097C12.1147 22.3535 12.8383 22.3535 13.2835 21.9097L21.4184 13.7748C21.8576 13.3311 21.8576 12.6106 21.4169 12.1683L12.0034 2.75483H2.25301V12.5053ZM6.73562 9.11474C5.6992 9.11474 4.85533 8.27086 4.85533 7.23445C4.85533 6.19803 5.6992 5.35416 6.73562 5.35416C7.77203 5.35416 8.6159 6.19803 8.6159 7.23445C8.6159 8.27086 7.77203 9.11474 6.73562 9.11474Z" fill="white"/>               
                            </svg>
                            Chaussures
                        </a>
                    </li>
                    <li>
                        <a href="" class="flex gap-4 p-4 hover:bg-sky-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 23" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.02857 0.185547C0.460507 0.185547 0 0.646054 0 1.21412C0 1.78218 0.460507 2.24269 1.02857 2.24269H2.91301L5.5023 16.4838C5.59123 16.9729 6.01719 17.3284 6.51428 17.3284H20.2286C20.7005 17.3284 21.112 17.0072 21.2264 16.5493L23.9693 5.57787C24.0461 5.27059 23.9771 4.94506 23.7821 4.69541C23.5872 4.44576 23.2882 4.29983 22.9714 4.29983H5.3779L4.78341 1.03012C4.69448 0.541046 4.26852 0.185547 3.77143 0.185547H1.02857ZM7.3727 15.2713L5.75193 6.35697H21.6541L19.4255 15.2713H7.3727ZM8.91428 22.8141C7.776 22.8141 6.85714 21.8953 6.85714 20.757C6.85714 19.6187 7.776 18.6998 8.91428 18.6998C10.0526 18.6998 10.9714 19.6187 10.9714 20.757C10.9714 21.8953 10.0526 22.8141 8.91428 22.8141ZM17.8286 22.8141C16.6903 22.8141 15.7714 21.8953 15.7714 20.757C15.7714 19.6187 16.6903 18.6998 17.8286 18.6998C18.9668 18.6998 19.8857 19.6187 19.8857 20.757C19.8857 21.8953 18.9668 22.8141 17.8286 22.8141Z" fill="white"/>
                            </svg>
                            Commandes
                        </a>
                    </li>
                    <li>
                        <a href="" class="flex gap-4 p-4 hover:bg-sky-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <path d="M3 21.5V19.5C3 18.4391 3.42143 17.4217 4.17157 16.6716C4.92172 15.9214 5.93913 15.5 7 15.5H11C12.0609 15.5 13.0783 15.9214 13.8284 16.6716C14.5786 17.4217 15 18.4391 15 19.5V21.5M5 7.5C5 8.56087 5.42143 9.57828 6.17157 10.3284C6.92172 11.0786 7.93913 11.5 9 11.5C10.0609 11.5 11.0783 11.0786 11.8284 10.3284C12.5786 9.57828 13 8.56087 13 7.5C13 6.43913 12.5786 5.42172 11.8284 4.67157C11.0783 3.92143 10.0609 3.5 9 3.5C7.93913 3.5 6.92172 3.92143 6.17157 4.67157C5.42143 5.42172 5 6.43913 5 7.5Z" stroke="#EFEFEF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Commandes
                        </a>
                    </li>
                    <li>
                        <a href="" class="flex gap-4 p-4  hover:bg-sky-700 rounded-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <path d="M10.325 4.817C10.751 3.061 13.249 3.061 13.675 4.817C13.7389 5.0808 13.8642 5.32578 14.0407 5.532C14.2172 5.73822 14.4399 5.89985 14.6907 6.00375C14.9414 6.10764 15.2132 6.15085 15.4838 6.12987C15.7544 6.10889 16.0162 6.0243 16.248 5.883C17.791 4.943 19.558 6.709 18.618 8.253C18.4769 8.48466 18.3924 8.74634 18.3715 9.01677C18.3506 9.28721 18.3938 9.55877 18.4975 9.80938C18.6013 10.06 18.7627 10.2826 18.9687 10.4591C19.1747 10.6355 19.4194 10.7609 19.683 10.825C21.439 11.251 21.439 13.749 19.683 14.175C19.4192 14.2389 19.1742 14.3642 18.968 14.5407C18.7618 14.7172 18.6001 14.9399 18.4963 15.1907C18.3924 15.4414 18.3491 15.7132 18.3701 15.9838C18.3911 16.2544 18.4757 16.5162 18.617 16.748C19.557 18.291 17.791 20.058 16.247 19.118C16.0153 18.9769 15.7537 18.8924 15.4832 18.8715C15.2128 18.8506 14.9412 18.8938 14.6906 18.9975C14.44 19.1013 14.2174 19.2627 14.0409 19.4687C13.8645 19.6747 13.7391 19.9194 13.675 20.183C13.249 21.939 10.751 21.939 10.325 20.183C10.2611 19.9192 10.1358 19.6742 9.95929 19.468C9.7828 19.2618 9.56011 19.1001 9.30935 18.9963C9.05859 18.8924 8.78683 18.8491 8.51621 18.8701C8.24559 18.8911 7.98375 18.9757 7.752 19.117C6.209 20.057 4.442 18.291 5.382 16.747C5.5231 16.5153 5.60755 16.2537 5.62848 15.9832C5.64942 15.7128 5.60624 15.4412 5.50247 15.1906C5.3987 14.94 5.23726 14.7174 5.03127 14.5409C4.82529 14.3645 4.58056 14.2391 4.317 14.175C2.561 13.749 2.561 11.251 4.317 10.825C4.5808 10.7611 4.82578 10.6358 5.032 10.4593C5.23822 10.2828 5.39985 10.0601 5.50375 9.80935C5.60764 9.55859 5.65085 9.28683 5.62987 9.01621C5.60889 8.74559 5.5243 8.48375 5.383 8.252C4.443 6.709 6.209 4.942 7.753 5.882C8.753 6.49 10.049 5.952 10.325 4.817Z" stroke="#EFEFEF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M9 12.5C9 13.2956 9.31607 14.0587 9.87868 14.6213C10.4413 15.1839 11.2044 15.5 12 15.5C12.7956 15.5 13.5587 15.1839 14.1213 14.6213C14.6839 14.0587 15 13.2956 15 12.5C15 11.7044 14.6839 10.9413 14.1213 10.3787C13.5587 9.81607 12.7956 9.5 12 9.5C11.2044 9.5 10.4413 9.81607 9.87868 10.3787C9.31607 10.9413 9 11.7044 9 12.5Z" stroke="#EFEFEF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Paramètres
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <section class="flex-grow p-6">
            <!-- navbar -->
            <nav class="flex justify-end gap-4 mb-2">
                <!-- Ouvre le menu -->
                <div class="md:hidden fixed top-4 left-2 p-4">
                    <svg v-if="isMobile && !isNavbarOpen" @click="toggleNavbar" xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 14 10" fill="none" class="cursor-pointer">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0.935476C0 0.561348 0.303291 0.258057 0.677419 0.258057H13.3226C13.6967 0.258057 14 0.561348 14 0.935476C14 1.3096 13.6967 1.6129 13.3226 1.6129H0.677419C0.303291 1.6129 0 1.3096 0 0.935476ZM0 4.99999C0 4.62586 0.303291 4.32257 0.677419 4.32257H13.3226C13.6967 4.32257 14 4.62586 14 4.99999C14 5.37412 13.6967 5.67741 13.3226 5.67741H0.677419C0.303291 5.67741 0 5.37412 0 4.99999ZM0.677419 8.38709C0.303291 8.38709 0 8.69038 0 9.06451C0 9.43864 0.303291 9.74193 0.677419 9.74193H13.3226C13.6967 9.74193 14 9.43864 14 9.06451C14 8.69038 13.6967 8.38709 13.3226 8.38709H0.677419Z" fill="black"/>
                    </svg>
                </div>

                Cheick
                <!-- Déconnexion -->
                <a href="">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M14 8V6C14 5.46957 13.7893 4.96086 13.4142 4.58579C13.0391 4.21071 12.5304 4 12 4H5C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6V18C3 18.5304 3.21071 19.0391 3.58579 19.4142C3.96086 19.7893 4.46957 20 5 20H12C12.5304 20 13.0391 19.7893 13.4142 19.4142C13.7893 19.0391 14 18.5304 14 18V16M9 12H21M21 12L18 9M21 12L18 15" stroke="#0D2444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>   
            </nav><hr>
            
            <!-- Contenu -->
            <main class="h-screen mt-6">
                <!-- Ecrire ici..-->
            </main>
        </section>
    </section>
</template>
